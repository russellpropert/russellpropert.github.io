<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Asyc Test</title>

  <link rel="stylesheet" href="test.css">

</head>
<body>

  <div class="go">Go</div>
  
  <script>

    const go = document.querySelector('.go');
    go.addEventListener('click', function(e) {
      const el = e.currentTarget;
      el.textContent = "LETâ€™S GO!"
      setTimeout(function() {
        el.classList.add('purple');
        setTimeout(function() {
          el.classList.remove('purple');
          el.classList.add('green');
          setTimeout(function(){
            el.classList.remove('green');
            el.classList.add('purple');
            setTimeout(function(){
              el.classList.remove('purple');
              el.classList.add('green');
              setTimeout(function() {
                el.classList.remove('green');
                el.classList.add('purple');
              }, 500)
            }, 500)
          }, 500)
        }, 500)
      }, 500)
    });

    function makeSandwich(fillings) {
      const sandwichPromise = new Promise(function(resolve, reject){
        //when you're ready, you can resolve the promise
        resolve(`here is your sub! Your fillings are ${fillings.join(' ')}`);
        //if something went wrong, you can reject this promise
        reject({error:'something went wrong'});
      });
      return sandwichPromise;
    }

    const italianSandwichPromise = makeSandwich(['salami', 'provolone', 'ham']);
    italianSandwichPromise.then(function(sandwich){
      console.log(sandwich)
    });

    makeSandwich(['tuna', 'lettuce', 'tomato'])
    .then((sandwich) => {
      console.log(sandwich);
    })

    makeSandwich(['tuna'])
    .then(function(sandwich){
      console.log(sandwich);
      return makeSandwich(['meatballs']);
    }).then(function(sandwich){
      console.log(sandwich);
      return makeSandwich(['roast beef', 'swiss', 'mayo']);
    }).then(function(sandwich){
      console.log(sandwich)
    })
  
  </script>
 
</body>
</html>