<!DOCTYPE html>
<html>
<head>
    <title>Grid</title>
    <style>
        .on{
            background: #28FF25;
        }

        .content{
            display: grid;
            grid-template-columns: repeat(10,1fr);
            grid-template-rows: repeat(10,1fr);
            gap: 5px;
        }

        div{
            padding: 10px;
            text-align: center;
            border-style: solid;
            font-size: 1em;
        }

        button {
            margin-bottom: 10px;
            margin-left: 3px;
        }

    </style>
</head>
<body>
    <button onclick="createGrid()">CREATE GRID</button>    
    <button onclick="move()">START</button>
    <button onclick="stop()">STOP</button>
    <button onclick="resume()">RESUME</button>
    <button onclick="clearAll()">CLEAR</button>
    <main class="content" id="target">
    </main>
    <script>

        let len = document.getElementById('target').childElementCount;
        let count = 1
        let previous = 0
        let timer = null;

        const createDivs = () => {
            const target = document.getElementById('target'); 
            for (let i = 1; i <= 100; i++) {
                const div = document.createElement('div');
                const text = document.createTextNode(i);
                div.id = 'n' + i
                div.appendChild(text);
                target.appendChild(div);
            }
        }

        const createGrid = () => {
            len = document.getElementById('target').childElementCount;
            if (len === 0) {
                createDivs();
            }
        }

        const clearAll = () => {
            if (timer !== null) {
                clearTimeout(timer);
                timer = null;
            }

            if (count > 1) {
                count = 1;
            }
            
            len = document.getElementById('target').childElementCount;
            for (let i = 1; i <= len; i++) {
                document.getElementById('n' + i).classList.remove('on');
            }
        }

        const clearLast = () => {
            if (count > 1) {
                previous = count - 1
                document.getElementById('n' + previous).classList.remove('on'); 
            }
        }

        const animate = () => {
            len = document.getElementById('target').childElementCount;
            if (count <= len) {
                clearLast();
                document.getElementById('n' + count).classList.add('on');
                count++;
                timer = setTimeout(animate, 100);
            }
        }

        const move = () => {
            if (timer === null) {
                clearAll();
                animate();
            } 
        }

        const stop = () => {
            clearTimeout(timer);
            timer = null;
        }

        const resume = () => {
            if (timer === null && count > 1) {
                animate();
            }
        }

    </script>
</body>
</html>