<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PacMan</title>
</head>

<script>
  let pos = 0;
  const pacArray = [
    ['PacMan1.png', 'PacMan2.png'],
    ['PacMan3.png', 'PacMan4.png']
  ];
  let direction = 0;
  let focus = 0;

  function Run() {
    const img = document.getElementById('PacMan');
    let imgWidth = img.width;
    focus = (focus + 1) % 2;
    direction = checkPageBounds(direction, imgWidth);
    img.src = './images/' + pacArray[direction][focus];
    if (direction) {
      pos -= 20;
      img.style.left = pos + 'px';
    } else {
      pos += 20;
      img.style.left = pos + 'px';
    }
    setTimeout(Run, 140);
  }

  function checkPageBounds(direction, imgWidth) {
    const img = document.getElementById('PacMan');
    let leftPosition = parseInt(img.style.left);
    let innerWidth = window.innerWidth - imgWidth - 20;
    // console.log(leftPosition);
    // console.log(innerWidth);
    // console.log(leftPosition > innerWidth);
    // console.log(direction);
    if (direction === 1 && leftPosition <= 0 || direction === 0 && leftPosition > innerWidth) {
      direction = (direction +1) % 2;
    }

    return direction;
  }
</script>

<body>
  <img id="PacMan" src="./images/PacMan1.png" alt="PacMan" width="200" height="200" onclick="Run()" style="position:absolute">
</body>
</html>