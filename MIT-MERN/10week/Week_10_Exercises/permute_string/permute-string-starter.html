<html>
  <script src="./permute.js"></script>
  <style>
    .grid {
      display: grid;
      grid-template-rows: repeat(1, 60px);
      grid-gap: 10px;
    }
    .box {
      background-color: #444;
      color: #fff;
      border-radius: 5px;
      padding: 20px;
      font-size: 150%;
    }
    button {
      margin: 10px 3px;
    }
  </style>
  <form action="./permute-string-starter.html">
    <label for="A">Input String To Permutate</label>
    <input type="text" id="A" name="A">
    <input type="submit" value="Submit">
  </form>
  <button onclick="step()">Step</button>
  <div id="grid" class="grid">
  </div>
  <script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const A = urlParams.get('A');
    let icount = 1;
    const permuations = [];
    const tagArray = [];

    const grid = document.getElementById('grid');
    grid.style.gridTemplateColumns = `repeat(${A.length}, 60px)`;

    for (let i = 0; i < A.length; i++) {
      const boxDiv = document.createElement('div');
      boxDiv.setAttribute("class", "box");
      boxDiv.innerText = A[i];
      grid.appendChild(boxDiv);      
    }

    let tag = document.getElementsByClassName("box");

    for (let i = 0; i < tag.length; i++) {
      tagArray[i] = tag.item(i); // get a handle on divs
      console.log(tag.item(i).innerText);
    }

    function setTags(permutation) {
      for (let i = 0; i < permutation.length; i++) {
        tagArray[i].innerText = permutation[i];
      }
    }
    function step() {
      if (icount >= permutations.length) icount = 0;
      setTags(permutations[icount++]);
    }
    const permutations = permute(A);
  </script>
</html>
